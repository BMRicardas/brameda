---
import BlockTitle from "./block-title.astro";
import Container from "./container.astro";

type Theme = "light" | "dark";
type Tag = "article" | "section";

type Props = {
  id?: string;
  appearanceMode?: Theme;
  title?: string;
  as?: Tag;
};

const {
  id,
  appearanceMode = "light",
  title,
  as: Tag = "section",
}: Props = Astro.props;
---

<Tag
  class:list={[
    "content-block",
    {
      dark: appearanceMode !== "light",
    },
  ]}
  id={id}>
  <Container>
    {title && <BlockTitle {appearanceMode} {title} />}
    <slot />
  </Container>
</Tag>

<style>
  .content-block {
    padding-block: var(--default-spacing);
  }

  .content-block.dark {
    background-color: var(--color-grey-dark2);
    color: var(--color-grey-light);
  }
</style>
